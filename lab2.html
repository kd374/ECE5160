
<!DOCTYPE HTML>

<html>
	<head>
		<title>ECE5160 Portfolio</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
		<!--	<div id="wrapper" class="fade-in"> -->

				<!-- Intro -->
					<div id="intro">
						<h1>LAB 2</h1>
						<p>The Inertial Measurement Unit (IMU)</p>
						<ul class="actions">
							<li><a href="#header" class="button icon solid solo fa-arrow-down scrolly">Continue</a></li>
						</ul>
					</div>

				<!-- Header -->
				<header id="header">
						<a href="index.html" class="logo">ECE 5160 | Fast Robots: Lab 2</a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li class="active"><a href="index.html">LAB 2</a></li>
						</ul>
						<ul class="icons">
							<li><a href="https://www.linkedin.com/in/katarina-duric/" class="icon brands fa-linkedin"><span class="label">Linkedin</span></a></li> 
							<li><a href="https://github.com/kd374" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Featured Post -->
						<!DOCTYPE html>
						<html lang="en">
						<head>
							<meta charset="UTF-8">
							<meta name="viewport" content="width=device-width, initial-scale=1.0">
							<title>LAB 2 - IMU</title>
						
							<!-- Inline CSS for this page only -->
							<style>
								/* Reduce spacing between paragraphs, sections, and images */
								p, h3, h2, pre, img {
									margin-bottom: 10px; /* Less space between rows */
								}
						
								/* Reduce spacing between sections */
								.content-section {
									margin-bottom: 15px; /* Less space between sections */
									padding-bottom: 5px;
									
    								border-bottom: 1px solid #ddd;  /* Adds a light gray line */
    								padding-bottom: 15px;
     								margin-bottom: 20px;

								}
						
								/* Make subtitles (h3) left-aligned */
								h3 {
									text-align: left;
									font-size: 20px; /* Adjust subtitle font size */
									margin-left: 5px;
								}
						
								/* Center images */
								.center-content img {
									display: block;
									margin: 0 auto;
									width: 500px; /* Adjust width */
									height: auto;
								}
						
								/* Center code blocks */
								pre {
									background-color: #f4f4f4;
									padding: 10px;
									border-radius: 5px;
									overflow-x: auto;
									text-align: left;
									font-family: monospace;
								}
							</style>
						</head>
						<body>
						
							<!-- Featured Post -->
							<article class="post featured">
								<header class="major">
									<span class="date">February 17th, 2025</span>
									<h2>LAB 2 - IMU</h2>
								</header>
						
								<!-- Introduction -->
								<section class="content-section">
									<h3>Introduction:</h3>
									<p>The aim of this lab was to learn how to adequatelly use the Inertial Measurement Unit, or the IMU. Furthermore, this lab provided me with the knowledge of the accuracy and noise analysis when computing pitch, roll, and yaw of IMU's accelerometer and gyroscope respectively.</p>
								</section>
						
								<!-- Virtual Environment Setup -->
								<section class="content-section">
									<h3>Prelab 2: Setup of IMU </h3>
									<p>The initial step towards using the IMU was to download the Sparkfun ICM 20948 library which was performed by connecting the IMU device to the Artemis board through the QWIIC connector, as seen in the image below. A significant step towards the very end of the lab was to prepare the RC car by charging the provided 850 mAh batteries.</p>
									<div>
										<img src="/images/IMG_0244.jpg" alt="Images" style="width: 400px !important; height: auto;">
									</div>
									
						

								<!-- Image Centered -->
								<section class="content-section">
									<h3>Lab 2: </h3>
									<h4> IMU example code</h4>
									<p>The first step was to confirm that the IMU example Arduino code was functional with our IMU device. Hence, SparkFun 9DOF IMU Breakout_ICM 20948_Arduino Library was installed. The outputs observed on the Serial Monitor once the example1_basicscode in the ICM 20948 library was run suggested that there is a variation in accelerometer and gyroscope values once the IMU position was changed. </p>
								
									<!-- Embed YouTube Video -->
                                    <iframe width="300" height ="400"
                                    src="https://youtube.com/embed/K0CzdoDJNoU" 
                                    title="Lab 2: LED blink" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                    allowfullscreen>
                                    </iframe>
                                    <p>The provided video displays the change in the output data of the Serial Monitor for accelerometer and gyroscope values dependending on the orientation of the IMU. It can be inferred that the accelerometer measures accelerations relative to the gravitational acceleration (g) direction. On the other hand, the gyroscope detects the change in angle per time unit with regards to the zeroth state at the IMU start. The data of the gyroscope is represented in degrees, hence, the angular rate is integrated over time.</p>
                                </section>
                                <section>

                                    <iframe width="300" height ="400"
                                    src="https://youtube.com/embed/sn1r9OSQCZc" 
                                    title="Lab 2: LED blink" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                    allowfullscreen>
                                    </iframe>
                            <p>As can be inferred from the video, the provided Example1_Basics code was expanded with the visual in terms of the LED blinking slowly three times. This visual is to indicate that the board is running and has uploaded the code successfully. </p>
								</section>
								<section class="content-section"> 
									<h4>AD0_Val Definition</h3>
									<p>The Ad0_VAL signal is crucial because it represents the last bit of the I2C address for the IMU. This value is set to have the value of 1, due to the fact that we have a single IMU on the I2C bus. If we were to have multiple, the bit would have been jumped on the IMU breakout board in order to have multiple IMUs on the same I2C bus.</p>
                                    
									<!-- Centered Image -->
									<div style="text-align: center;">
										<img src="/images/ad0_val2.png" alt="Lab 1 Setup" width="200">
									</div>
								</section>
								<section class="content-section">
									<h3>Accelerometer</h3>
									<p>The accelerometer reading require specifications of x, y, and z axes of the coordinate system, which is indicated on the IMU itself. In order to calculate pitch &#952; and roll &#934;, the following equations may be implemented for the Artemis. The equations were incorporated from lecture 4. </p>

                                    <html lang="en">
                                    <head>
                                        <meta charset="UTF-8">
                                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                        <title>Italic Equations with MathJax</title>
                                        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
                                        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
                                        <style>
                                            .center-container {
                                                /* display: table-cell;
                                                vertical-align: middle; */

                                            }
                                            body, html{
                                                height: 100%;
                                                /* justify-content: center;
                                                align-items: center;
                                                text-align: center;
                                                place-items: center; */
                                                margin: 0;
                                                /* display: table; */
                                                position: relative;
                                            }
                                            .math-equation {
                                                font-size: 18px;
                                                display:inline-block;
                                            }
                                        </style>
                                    </head>
                                    <body>
                                        <div class = "center-container">
                                            <div class = "math-equation">
                                                $$  \theta_a = atan2 \left( {a_x} ,{a_z} \right)  $$
                                            </div>
                                        </div>
                                    <!-- <p><span class="center-container"> \( \theta_a = \tan^{-1} \left( \frac{a_x}{a_y} \right) \) </span></p> -->
                                    </body>
                                    </html>

                                    <html lang="en">
                                        <head>
                                            <meta charset="UTF-8">
                                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                            <title>Italic Equations with MathJax</title>
                                            <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
                                            <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
                                            <style>
                                                .center-container {
                                                    /* display: table-cell;
                                                    vertical-align: middle; */
    
                                                }
                                                body, html{
                                                    height: 100%;
                                                    /* justify-content: center;
                                                    align-items: center;
                                                    text-align: center;
                                                    place-items: center; */
                                                    margin: 0;
                                                    /* display: table; */
                                                    position: relative;
                                                }
                                                .math-equation {
                                                    font-size: 18px;
                                                    display:inline-block;
                                                }
                                            </style>
                                        </head>
                                        <body>
                                            <div class = "center-container">
                                                <div class = "math-equation">
                                                    $$  \phi_a = atan2 \left( {a_y} ,{a_z} \right)  $$
                                                </div>
                                            </div>
                                        <!-- <p><span class="center-container"> \( \theta_a = \tan^{-1} \left( \frac{a_x}{a_y} \right) \) </span></p> -->
                                        </body>
                                        </html>

                                        <p>These equations are first incorporated in the Arduino code as in the snippet provided below. As can be seen, I created a function called collectIMUData_ACC() which computes pitch and roll values of the accelerometer while collecting data in real time. Furthermore, pitch, roll, as well as time values are stored in respective arrays of length ARRAY_LENGTH = 2000. The function is called from the SEND_IMU_DATA_ACC case for as long as the number of entries collected is less than the proposed ARRAY_LENGTH.</p>


									<!-- Centered Image -->
									<div style="text-align: center;">
										<img src="images/collect_imu_data_acc.png" alt="Lab 2" width="600">
									</div>
                                    <div style="text-align: center;">
										<img src="images/send_imu_data_acc.png" alt="Lab 2" width="600">
									</div>
                                    <p>The data is thus sent over through Bluetooth, similarly to lab 1, after which the collected data may be graphed. By oscillating the IMU about the x and y axis as labeled on the device, the following graphs are obtained. The first graph from left to right represents pitch data with respect to time, and the second represents roll data with respect to time of the accelerometer. It can be observed that the IMU is thus able to correctly identify the orientations as learned from class lectures. </p>
									<div style="text-align: center;">
										<html lang="en">
											<head>
												<meta charset="UTF-8">
												<meta name="viewport" content="width=device-width, initial-scale=1.0">
												<title>Two Images Side by Side</title>
												<style>
													/* .image-container {
														display: flex; /* Puts images in a row */
														/*#justify-content: center; /* Centers them horizontally */
														/*gap: 10px; /* Adds space between images */
												
												
													.image-container img {
														width: 400px; /* Adjust width as needed */
														height: auto; /* Maintain aspect ratio */
														visibility: visible;
													}
												</style>
											</head>
											<body>

												<div class="image-container">
													<img src="images/pitchvstime_unfiltered2.png" alt="Lab 2" width="600">
													<img src="images/rollvstime_unfiltered.png" alt="Lab 2" width="600">
												</div>

											</body>
											</html>
									</div>
									<p>As can be observed, the output for both pitch and roll data display the sequence of {-90, 0, 90} degrees. The graphs were generated by developing a Python script for plotting the data sent from Arduino over time. The results of the accelerometer appear to accurately detect and record the orientation changes, hence the two-point calibration is not necessary. However, the results appear noisy, especially in the regions of switching between orientations of the accelerometer, and thus, a Fourier spectrum might be observed.</p>
								</section>
								<section class="content-section">
									<h4>Fourier Transform of accelerometer data</h3>
									<p>The Fourier transform was performed by utilizing SciPy's <code>fft()</code> function in order to detect the periodicity in the signal. As can be observed in the FFT spectrum analysis below, due to the fact that there is significant noise observed for the fact that there was minimal movement while recording pitch and roll data, a low-pass filter ought to be implemented for smoothing out the non-negligible noise. </p>
									

									<html lang="en">
											<head>
												<meta charset="UTF-8">
												<meta name="viewport" content="width=device-width, initial-scale=1.0">
												<title>Two Images Side by Side</title>
												<style>
													/*.image-container {
														display: flex; /* Puts images in a row */
														/*justify-content: center; /* Centers them horizontally */
														/*gap: 10px; /* Adds space between images */
													/*}
													.image-container img {
														width: 300px; /* Adjust width as needed */
														/*height: auto; /* Maintain aspect ratio */
													
												</style>
											</head>
											<body>

												<div class="image-container">
													<img src="/images/fft_pitch_acceler.png" alt="Lab 2" width="600">
													<img src="/images/fft_roll_acceler.png" alt="Lab 2" width="600">
												</div>

												<div class="image-container">
													<img src="/images/fft_general.png" alt="Image 1" style="width: 500px !important; height: auto;">
												</div>
												<p>Based on the provided graphs, it can be inferred that the sampling frequency can be estimated to be around 50 Hz, hence I chose the low-pass filter cutoff frequency <code>f<sub>c</sub></code>to be about 5 Hz. </p>

												<h4>Implementation of Low-pass filter</h3>
												<html lang="en">
													<head>
														<meta charset="UTF-8">
														<meta name="viewport" content="width=device-width, initial-scale=1.0">
														<title>Italic Equations with MathJax</title>
														<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
														<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
														<style>
															.center-container {
																/* display: table-cell;
																vertical-align: middle; */
				
															}
															body, html{
																height: 100%;
																/* justify-content: center;
																align-items: center;
																text-align: center;
																place-items: center; */
																margin: 0;
																/* display: table; */
																position: relative;
															}
															.math-equation {
																font-size: 18px;
																display:inline-block;
															}
														</style>
													</head>
													<body>
														<div class = "center-container">
															<div class = "math-equation">
																$$  \theta_{lpf}[n] = \alpha \theta_{unfiltered} + (1-\alpha)\theta_{lpf}[n-1]  $$
															</div>
														</div>
													<!-- <p><span class="center-container"> \( \theta_a = \tan^{-1} \left( \frac{a_x}{a_y} \right) \) </span></p> -->
													</body>
													</html>

													<html lang="en">
													<head>
														<meta charset="UTF-8">
														<meta name="viewport" content="width=device-width, initial-scale=1.0">
														<title>Italic Equations with MathJax</title>
														<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
														<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
														<style>
															.center-container {
																/* display: table-cell;
																vertical-align: middle; */
				
															}
															body, html{
																height: 100%;
																/* justify-content: center;
																align-items: center;
																text-align: center;
																place-items: center; */
																margin: 0;
																/* display: table; */
																position: relative;
															}
															.math-equation {
																font-size: 18px;
																display:inline-block;
															}
														</style>
													</head>
													<body>
														<div class = "center-container">
															<div class = "math-equation">
																$$  \theta_{lpf}[n-1] = \theta_{lpf}[n]  $$
															</div>
														</div>
													<!-- <p><span class="center-container"> \( \theta_a = \tan^{-1} \left( \frac{a_x}{a_y} \right) \) </span></p> -->
													</body>
													</html>
													<p>The coefficient &#945; as well as the sampling period T may be calculated through the following formulas:
													
														<html lang="en">
															<head>
																<meta charset="UTF-8">
																<meta name="viewport" content="width=device-width, initial-scale=1.0">
																<title>Italic Equations with MathJax</title>
																<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
																<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
																<style>
																	.center-container {
																		/* display: table-cell;
																		vertical-align: middle; */
						
																	}
																	body, html{
																		height: 100%;
																		/* justify-content: center;
																		align-items: center;
																		text-align: center;
																		place-items: center; */
																		margin: 0;
																		/* display: table; */
																		position: relative;
																	}
																	.math-equation {
																		font-size: 18px;
																		display:inline-block;
																	}
																</style>
															</head>
															<body>
																<div class = "center-container">
																	<div class = "math-equation">
																		$$  \alpha = T / (T+RC)  $$
																		$$  f_{c} = 1/(2 \pi RC)$$
																	</div>
																</div>
															<!-- <p><span class="center-container"> \( \theta_a = \tan^{-1} \left( \frac{a_x}{a_y} \right) \) </span></p> -->
															</body>
															</html>
														
													<p>The sampling frequency of the captured IMU data was found to 10 ms per sample. Hence, with the cutoff frequency of about 5 Hz, the value of &#945; ends up being equal to <code>0.2</code>. Utilizing the aforementioned equations for the implementation of the low-pass filter, the Arduino code ought to be updated as the following:</p>
													<div class="image-container">
														<img src="/images/filter_imu_acc_arduino.png" alt="Lab 2" width="600">
													</div>
													<div class="image-container">
														<img src="/images/send_imu_data_acc_filtered_new_arduino.png" alt="Lab 2" width="600">
													</div>
													<p>Furthermore, on the Python side, the computation code for with the filter applied was implemented as the following:</p>
													<div class="image-container">
														<img src="/images/filtered_acc_python1.png" alt="Lab 2" width="600">
													</div>
													<div class="image-container">
														<img src="/images/filtered_acc_python2.png" alt="Lab 2" width="600">
													</div>
													<p>Finally, the applied low-pass filter on the recorded and stored pitch and roll data would be presented as following:</p>
													<div class="image-container">
														<img src="/images/pitchvstime_filtered2.png" alt="Image 1" style="width: 300px !important; height: auto;">
														<img src="/images/rollvstime_filtered.png" alt="Image 1" style="width: 300px !important; height: auto;">
													</div>

													<p>As can be observed from the provided graphs, the low-pass filter (as indicated in orange) is able to significantly reduce the noise in the originally recorded data (as indicated in blue). The noise levels were already minor considering that the accelerometer has an integrated low-pass filter (as is stated in the ICM 20948 datasheet). However, with this implementation of low-pass filter, the noise levels remain negligible and are almost fully reduced.</p>
													<h3>Gyroscope</h3>

													<p>As opposed to the accelerometer, the gyroscope is reflected in three leading equations that describe its movement. Each of the equations are integrated over time.</p>
													
													<html lang="en">
														<head>
															<meta charset="UTF-8">
															<meta name="viewport" content="width=device-width, initial-scale=1.0">
															<title>Italic Equations with MathJax</title>
															<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
															<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
															<style>
																.center-container {
																	/* display: table-cell;
																	vertical-align: middle; */
					
																}
																body, html{
																	height: 100%;
																	/* justify-content: center;
																	align-items: center;
																	text-align: center;
																	place-items: center; */
																	margin: 0;
																	/* display: table; */
																	position: relative;
																}
																.math-equation {
																	font-size: 18px;
																	display:inline-block;
																}
															</style>
														</head>
														<body>
															<div class = "center-container">
																<div class = "math-equation">
																	$$  \theta_g = \theta_g + g_{y} * dt $$
																	$$  \phi_g = \phi_g + g_{x} * dt $$
																	$$  \psi_g = \psi_g + g_{z} * dt $$
																</div>
															</div>
														<!-- <p><span class="center-container"> \( \theta_a = \tan^{-1} \left( \frac{a_x}{a_y} \right) \) </span></p> -->
														</body>
														</html>

														<p>Similarly, to the code for accelerometer, I created a I created a function called collectIMUData_GYRO() which computes pitch, roll, and yaw values of the accelerometer while collecting data in real time. Furthermore, pitch, roll, as well as time values are stored in respective arrays of length ARRAY_LENGTH2 = 2000. The function is called from the SEND_IMU_DATA_GYRO case for as long as the number of entries collected is less than the proposed ARRAY_LENGTH2.</p>
														<div class="image-container">
															<img src="/images/send_imu_data_gyro.png" alt="Image 1" style="width: 400px !important; height: auto;">
														</div>
														<div class="image-container">
															<img src="/images/collect_gyro.png" alt="Image 1" style="width: 400px !important; height: auto;">
														</div>

														<p>Similarly to testing the accelerometer, I tested the gyroscope by varying {-90, 0, 90} angles for pitch, roll, and yaw respectively. Pitch and roll data were computed unfiltered initially, in order for them to be more easily compared to the accelerometer pitch and roll data. Lastly, yaw data was computed. It could have been observed that pitch and roll data were much less noisy overall compared to the accelerometer's respective data.</p>
														<div >
															<img src="/images/gyro_pitchvstime_unfiltered.png" alt="Image 1" style="width: 400px !important; height: auto;">
															<img src="/images/gyro_rollvstime.png" alt="image 1" style="width:400px !important; height:auto;">
															<img src="/images/gyro_yawvstime.png" alt="image 1" style="width:400px !important; height:auto;">
														</div>
														<p>Another significant observation while computing the filtered versions of gyroscope's pitch and roll data is that gyroscopre significantly drifts over time, as can be observed below. I decided to compute the gyroscope pitch and roll data as reliably as possible by developing a complimentary filter, which combines the aforementioned definition of accelerometer's RC filter and gyroscope's formulas in order to obtain the following equations. The value of &#947; represents the coefficient which weighs the relationship between the accelerometer and the gyroscope. Considering the higher accuracy of the accelerometer, the coefficient of &#947; is set to be <code>0.8</code>. </p>
														<div class = "math-equation">
															$$  \theta = (1-\gamma)(\theta+\theta_{g}*dt) + \theta_{a}* \gamma $$
															$$  \phi = (1-\gamma)(\phi + \phi_{g} * dt) + \phi_{a}* \gamma $$
														</div>
														<p>Hence, the code implementation on the Arduino side is as following: </p>
														<div>
															<img src="/images/complementarycode.png" alt="Image 1" style="width: 550px !important; height: auto;">
														</div>
														<p>Finally, by rotating the IMU with varying speeds, the filtered accelerometer data was plotted on the same graph as the complementary filter data of the gyroscope, for easier comparison.</p>

														<div>
															<img src="/images/compl_pitch.png" alt="Image 1" style="width: 550px !important; height: auto;">
														</div>
														<div>
															<img src="/images/compl_roll.png" alt="Image 1" style="width: 528px !important; height: auto;">
														</div>
														<p>As can be observed, the complementary filter is very accurate with the computation of both pitch and roll data over time, it is able to remain uninfluenced by the detectible drift in data, yet is not influenced by rapid varying and rotating of the IMU. Hence, the complimentary filter is evaluated to be very reliable from the presented graphs. Another observation was that decreasing the sampling frequency ultimately resulted in a greater fluctuation between the measurements of the filtered and unfiltered data. Hence, the sampling rate ought to be high in order to maintain high accuracy in data acquisition.</p>
														<h3>Sample Data</h3>
														<h4>Timing Analysis and time-stamped arrays</h4>
														<p>Following the proposed instructions, all the time-consuming and repetitive statements in the main loop have been removed, including all Serial.print() functions, and all the implemented delay() functions. In order to create time-stamped IMU data arrays, a flag RECORD_IMU was instantiated in Arduino cases. Afterwards, GET_IMU_DATA_ACC was called on the Python side in order to determine the computation time or the speed of sampling. This was performed on the ARRAY_LENGTH size of the array, which was previously used in this lab. The code for computation can be found below.</p>
														<div>
															<img src="/images/stop_start.png" alt="Image 1" style="width: 528px !important; height: auto;">
														</div>
														<div>
															<img src="/images/computation_oft.png" alt="Image 1" style="width: 528px !important; height: auto;">
														</div>
														<p>As can be inferred from the provided outputs, the time step T, which represents the speed of data transmission of the data points sent over from Arduino is approximately 0.102.</p>
														<h4>data storage</h4>
														<p>In order to compute and store the data for the lab, I stored pitch, roll, and yaw respectively into separate float arrays. This choice ended up aligning with easier manipulation of the data and possibility of easier calculations in the future labs. Each of the float arrays takes up a third of Artemis's 384 kiB of memory. Hence, this corresponds to about 33000 data points. Considering that the sampling rate of the IMU was approximated to be about 220 Hz, this would in theory equate to about 150 seconds to fill the available memory.However, realistically this might not be the case since there are more things occupying the memory, hence the proposed sampling rate would be somewhat smaller in reality.</p>
														<h4>5s of Data Demonstration</h4>
														<p>I set the flag indicating that the data collection ought to last for 5 seconds. Furthermore, my array consisted of the GET_IMU_DATA_ACC array, and each of the received arrays had a time stamp indicated.</p>
														<div>
															<img src="/images/5sdata.png" alt="Image 1" style="width: 528px !important; height: auto;">
														</div>


														<h3>Record a stunt!</h3>
														<iframe width="560" height="315" 
														src="https://www.youtube.com/embed/78uB5jMgX5I" 
														frameborder="0" allowfullscreen>
												</iframe>

												

							
									<h3>Discussion:</h3>
									<p>The performed tasks were very insightful and helpful in demonstrating how to properly use the IMU and has set crucial fundamentals for navigating the future labs. </p>

								</section>
							<!-- </article> -->
						
						</body>
						</html>

					
						
						<section class="content-section">
						</section>
						
						<!-- <section class="content-section">
							<h3></h3>
							<p>Throughout these lab 1B tasks, I had to connect to the Artemis Device in Jupyter Notebook whenever the Bluetooth connection ought to be established. </p>
							<div style="text-align: center;">
								<img src="images/connection.png" alt="Lab 1 Setup" width="">
							</div>
							<p>Furtermore, with every case initiation, we update enums in both ble_arduino.ino on the Arduino side, and cmd_types.py on the Jupyter Notebook side.</p>
							<div style="text-align: center;">
								<img src="images/enums.png" alt="Lab 1 Setup" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/enums2.png" alt="Lab 1 Setup" width="">
							</div>

							<h4>Task 1: ECHO</h4>
							<p>The first task aimed to send an echo command that holds a string to the Artemis board, and afterwards receive the augmented version of the string back to the computer, testing the mutual communication.
								Below are snippets of Arduino IDE code and Jupyter Notebook code, and the Serial Monitor Output, in order.
							</p>
						
							<!- Example Image 
							<div style="text-align: center;">
								<img src="images/echo_arduino.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/echo_python.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/echo_arduino_output.png" alt="BLE Connection" width="">
							</div>
						</section>
						
						<section class="content-section">
							<h4>Task 2: Send_THREE_FLOATS</h4>
							<p>Similarly to the previous task, in this task we send three floats instead. Arduino IDE code, Jupyter Notebook code, and the Serial Monitor output are in order.</p>
							<div style="text-align: center;">
								<img src="images/three_floats_arduino.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/three_floats_python.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/threefloats_output.png" alt="BLE Connection" width="">
							</div>
							 Example Video Embed 
						</section>

						<section class="content-section">
							<h4>Task 3: GET_TIME_MILLIS</h4>
							<p>This task asks for the Artemis to reply with a string representing current time. Arduino IDE code, Jupyter Notebook code, and the Serial Monitor output are in order. It can be seen that the Python code sends the GET_TIME_MILLIS command and receives a string representing the current time. The time is thus also reflected on the Serial Monitor.</p>
							<div style="text-align: center;">
								<img src="images/get_time_millis_arduino.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/get_time_millis_python .png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/get_time_millis_output.png" alt="BLE Connection" width="">
							</div>
							 Example Video Embed >
						</section>

						<section class="content-section">
							<h4>Task 4: Notification Handler</h4>
							<p>The notification handler integrates ble.start_notify() function, which calls the handler whenever a message is received from the Artemis board. The received string is printed out. Arduino IDE code, Jupyter Notebook code, and the Serial Monitor output are in order. It can be seen that the Python code sends the GET_TIME_MILLIS command and receives a string representing the current time. The time is thus also reflected on the Serial Monitor.</p>
							<div style="text-align: center;">
								<img src="images/notification_handler_python.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/handler_output.png" alt="BLE Connection" width="">
							</div>
							 Example Video Embed >
						</section>

						<section class="content-section">
							<h4>Task 5: Looped version of GET_TIME_MILLIS</h4>
							<p>The loop function named TIME_LOOP is created in order to consistently run GET_TIME_MILLIS and determine how fast the data is sent. Arduino IDE code, Jupyter Notebook code and output, and the Serial Monitor output are in order. </p>
							<div style="text-align: center;">
								<img src="images/time_loop_arduino.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/time_loop_python.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/time_loop_output1.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/time_loop_output2.png" alt="BLE Connection" width="">
							</div>
							<p>The looped function sent exactly 406 samples in 6.93 seconds, hence averaging at about 58.6 messages/s.</p>

							 Example Video Embed 
						<-- </section>

						<section class="content-section">
							<h4>Task 6: SEND_TIME_DATA</h4>
							<p> This function stores timestamps in an array of 128, looping through the array and thus sending the entries fast. As opposed to the previous function TIME_LOOP, as in this case we gather the data and then send it in different loops. Arduino IDE code, Jupyter Notebook code and output are in order. Two new global variables of time_data representing an array and data_array are instantiated.</p>
							<div style="text-align: center;">
								<img src="images/send_time_correcttttt.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/send_time_data_arduino.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/send_time_data_beginning.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/send_time_data_python2.png" alt="BLE Connection" width="">
							</div>
							<p>Therefore, 128 time stamps were sent ranging from 2496060 ms to 2496064 ms. This method enhances frequency of the time stamps due to the fact that messages do not have to wait for the time stamps in between.</p>


							 Example Video Embed
						</section>

						<section class="content-section">
							<h4>Task 7: GET_TEMP_READINGS</h4>
							<p> This task is very similar to the previous task, except that now we are incorporating temperature values as well with the time stamps. Arduino IDE code, Jupyter Notebook code and output are in order. A new global variable of temperature_data representing an array is instantiated.</p>
							<div style="text-align: center;">
								<img src="images/temp_variable.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/temp_arduino.png" alt="BLE Connection" width="">
							</div>
							<div style="text-align: center;">
								<img src="images/temp_python.png" alt="BLE Connection" width="">
							</div>
							<p></p>


							 Example Video Embed -->
						</section> 
					
	

						<!-- Posts -->
	

						<!-- Footer -->
					</div>
					</div>
				<!-- Footer -->
				<footer id="footer">
						<!-- <section>
							<form method="post" action="#">
								<div class="fields">
									<div class="field">
										<label for="name">Name</label>
										<input type="text" name="name" id="name" />
									</div>
									<div class="field">
										<label for="email">Email</label>
										<input type="text" name="email" id="email" />
									</div>
									<div class="field">
										<label for="message">Message</label>
										<textarea name="message" id="message" rows="3"></textarea>
									</div>
								</div>
								<ul class="actions">
									<li><input type="submit" value="Send Message" /></li>
								</ul>
							</form>
						</section>
						<section class="split contact"> -->
							<section>
								<h3>EMAIL @ </h3>
								<p><a href="#">kd374@cornell.edu</a></p>
							</section>
					</footer> 

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy; Untitled</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
	</body>
</html>
